<!--
Project name: OBD - Organização Brasileira de Dardos
Property: Nathan Perkes
Developers: Walisson Oliveira
Page name: Perfil do Usuário *Público*
Start date of this page: Jul-03-2021
Last update: Jul-03-2021
Description: This is the page where main data will remains.
-->
{% extends 'base.html' %}
{% load static %}
{% block csslib %}
{% endblock %}
{% block title %}{{ user.first_name }} {{ user.last_name }} - Perfil público jogador OBD{% endblock %}
{% block styles %}

<style>
  .rect-img-container {
    position: relative;
  }

  .rect-img-container::after {
    content: "";
    display: block;
    padding-bottom: 100%;
  }

  .rect-img {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
</style>



{% endblock %}
{% block content %}

<div class="container">
  <div class="row">
    <div class="col-6 col-md-1"></div>
    <div class="col-6 col-md-10">

      <div class="card mb-3">
        <img src="{% static '/media/logos/1230x200-banner-fundo-escuro.jpg' %}"
          class="card-img figure-img img-fluid rounded" alt="...">
        <div class="card-body">
          <p><br></p>
          <h2 class="text-white"><strong><i class="bi bi-people-fill"></i> Lista Geral de Jogadores ranqueados
              OBD</strong></h2>
          <p class="card-text"><small class="text-muted">Clique sobre o nome para maiores detalhes sobre o(a)
              jogador(a).</small></p>
        </div>
      </div>

      <div class="row row-cols-1 row-cols-md-4 g-4">

        {% for player in players %}
        <div class="col">
          <div class="card h-100">
            {% if player.profile.pin and player.first_name and player.last_name %}
            <a href="{% url 'profiles:publicprofile' pin=player.profile.pin first=player.first_name last=player.last_name %}"
              class="list-group-item list-group-item-action active" aria-current="true">
              {{ player.first_name }} {{ player.last_name }} | Div. {{ player.stat.get_bcmDiv_display }}
            </a>
            {% else %}
            <div class="list-group-item list-group-item-action active" aria-current="true">
              {{ player.first_name }} {{ player.last_name }} | Div. {{ player.stat.get_bcmDiv_display }}
            </div>
            {% endif %}
            <div class="rect-img-container">
              <img class="rect-img figure-img img-fluid rounded" src="{{ player.profile.photo }}" align="center"
                title="{{ profile.nickname }}" alt="{{ profile.nickname }}">
            </div>
            <div class="card-body">
              <p class="card-text">
              <div class="list-group" align="center">
              </div>
              <li class="list-group-item">{{ player.profile.bio | truncatechars:120 }}...
                {% if player.profile.pin and player.first_name and player.last_name %}
                <a
                  href="{% url 'profiles:publicprofile' pin=player.profile.pin first=player.first_name last=player.last_name %}">ver
                  perfil.</a>
                {% endif %}
              </li>
              <li class="list-group-item">{{ player.profile.country }} - {{ player.profile.state }}</li>
              <li class="list-group-item">{{ player.profile.darts }}</li>

            </div>
            <div class="card-footer">
              <small class="text-muted">Membro desde {{ player.profile.created_at | date:"d/M/y" }}</small>
            </div>
          </div>
        </div>
        {% endfor %}
        <p><br></p>


      </div>


    </div>
  </div>
  <div class="col-6 col-md-1"></div>
</div>
</div>




{% endblock %}
{% block jslib %}
{% endblock %}